<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="icon" type="image/png" href="icons/logo.png">
    <title>Yatzy Royale by: James Tercenio</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <canvas id="fire-canvas" style="display: none;"></canvas>
    <div id="party-overlay"></div>

    <div id="turn-modal">
        <div id="turn-modal-text" class="turn-modal-content">YOUR TURN</div>
    </div>

    <!-- HELL WARNING MODAL -->
    <div id="hell-notification-modal"
        style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:10000; justify-content:center; align-items:center; flex-direction:column; backdrop-filter:blur(12px);">
        <div class="modal-content" style="border-color: rgba(239,68,68,0.6); animation: shake 0.5s infinite;">
            <h1 style="color: #f87171; font-size: 2.8rem; margin: 0; letter-spacing: 4px;">⚠ WARNING</h1>
            <p id="hell-level-text" style="font-size: 1.4rem; margin: 20px 0; font-weight: 700; color: #fca5a5;"></p>
            <button class="difficulty-btn hell" onclick="closeHellModal()">I ACCEPT MY FATE</button>
        </div>
    </div>

    <!-- SCORE INFO MODAL -->
    <div id="score-info-modal" onclick="this.style.display='none'">
        <div class="modal-content">
            <h2 id="score-info-title">Category Name</h2>
            <p id="score-info-desc" style="font-size: 1.1rem; line-height: 1.6;"></p>
            <p style="font-size: 0.82rem; opacity: 0.4; margin-top: 20px; letter-spacing: 1px;">TAP ANYWHERE TO CLOSE
            </p>
        </div>
    </div>

    <!-- RESET MODAL -->
    <div id="reset-modal">
        <div class="modal-content">
            <h2>Reset Game?</h2>
            <p style="font-size: 1rem; margin-bottom: 28px;">Are you sure you want to quit? Your current progress will
                be lost.</p>
            <div class="btn-group">
                <button class="confirm-btn" onclick="location.reload()">YES, RESET</button>
                <button class="cancel-btn" onclick="toggleResetModal()">CANCEL</button>
            </div>
        </div>
    </div>

    <!-- RESULT MODAL -->
    <div id="result-modal">
        <div class="modal-content">
            <h1 id="result-title" style="font-size: 2.5rem; letter-spacing: 4px;">GAME OVER</h1>
            <p id="result-details" style="font-size: 1.2rem; margin-bottom: 30px;"></p>
            <button class="difficulty-btn easy" onclick="location.reload()">PLAY AGAIN</button>
        </div>
    </div>

    <!-- INFO MODAL -->
    <div id="info-modal">
        <div class="modal-content">
            <span
                style="position:absolute; top:16px; right:20px; cursor:pointer; font-size:1.4rem; opacity:0.6; transition:opacity 0.2s;"
                onmouseenter="this.style.opacity='1'" onmouseleave="this.style.opacity='0.6'"
                onclick="toggleInfo()">✖</span>
            <h2 style="letter-spacing: 3px;">GAME MECHANICS</h2>
            <ul style="line-height: 1.7; text-align: left; padding-left: 20px;">
                <li><strong>Upper Section:</strong> Count and add only the specific face value.</li>
                <li><strong>3 of a Kind:</strong> Total of all dice if 3 match.</li>
                <li><strong>4 of a Kind:</strong> Total of all dice if 4 match.</li>
                <li><strong>Full House:</strong> 25 pts for 3 of one kind + 2 of another.</li>
                <li><strong>Small Straight:</strong> 30 pts for 4 sequential dice.</li>
                <li><strong>Large Straight:</strong> 40 pts for 5 sequential dice.</li>
                <li><strong>Yatzy:</strong> 50 pts for all 5 dice matching.</li>
            </ul>
            <p style="margin-top: 24px; font-size: 0.82rem; opacity: 0.45; letter-spacing: 2px;">
                CREATED BY JAMES TERCENIO
            </p>
        </div>
    </div>

    <!-- LOBBY -->
    <div id="lobby">
        <img src="icons/logo.png" alt="Yatzy Royale Logo">
        <h1>YATZY ROYALE</h1>
        <p class="lobby-subtitle">Pro Edition</p>

        <div id="main-menu" class="menu-group">
            <button class="difficulty-btn med" onclick="toggleLobbyView(true)">VS BOT</button>
            <button class="difficulty-btn pvp" onclick="startGame('PVP')">PVP (Local)</button>
            <button class="info-trigger-btn" onclick="toggleInfo()">Game Info</button>
        </div>

        <div id="difficulty-menu" class="menu-group hidden">
            <p
                style="width:100%; font-size:0.72rem; font-weight:700; color:rgba(255,255,255,0.4); margin-bottom:4px; text-transform:uppercase; letter-spacing:4px;">
                Select Difficulty
            </p>
            <button class="difficulty-btn easy" onclick="startGame('EASY')">Easy</button>
            <button class="difficulty-btn med" onclick="startGame('MEDIUM')">Medium</button>
            <button class="difficulty-btn hard" onclick="startGame('HARD')">Hard</button>
            <button class="difficulty-btn hell" onclick="startGame('HELL')">⚡ Hell Mode</button>
            <button class="cancel-btn" onclick="toggleLobbyView(false)">← Back</button>
        </div>
    </div>

    <!-- GAME AREA -->
    <div class="game-container">

        <div class="top-right-ui">
            <div class="ui-box" id="difficulty-display">EASY</div>
            <button class="ui-box info-btn" onclick="toggleInfo()">GAME INFO</button>
            <button id="mute-btn" class="ui-box mute-btn" onclick="toggleMute()">MUTE MUSIC</button>
            <button class="ui-box reset-btn" onclick="toggleResetModal()">RESET GAME</button>
        </div>

        <div class="scores">
            <span id="p1-label">YOU: <span id="p-total">0</span></span>
            <span id="p2-label">BOT: <span id="b-total">0</span></span>
        </div>

        <div id="turn-banner" class="turn-indicator player-turn">YOUR TURN</div>

        <div class="score-grid" id="score-container"></div>

        <div class="controls-box">
            <div class="dice-area" id="dice-container"></div>
            <button id="roll-btn">ROLL DICE</button>
            <div class="rolls-left-label">ROLLS LEFT: <span id="rolls-left">3</span></div>
        </div>

    </div>

    <script src="script.js"></script>

</body>

</html>